import{S as N,K,M as L,N as w,O as M,k as I,U as v,m as R,g as E,C as j,Q as q,R as C,V as H,b as U,h as O,F as Z,E as B,W as G,X as Q,Y as V,G as W,Z as D,_ as k,a as m,$ as o,e as X,a0 as $,a1 as z,u as J,a2 as x}from"./F443iEq-.js";function _(a,c=null,d){if(typeof a!="object"||a===null||N in a)return a;const l=C(a);if(l!==K&&l!==L)return a;var f=new Map,u=H(a),y=w(0);u&&f.set("length",w(a.length));var g;return new Proxy(a,{defineProperty(i,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&q();var s=f.get(e);return s===void 0?(s=w(t.value),f.set(e,s)):R(s,_(t.value,g)),!0},deleteProperty(i,e){var t=f.get(e);if(t===void 0)e in i&&f.set(e,w(v));else{if(u&&typeof e=="string"){var s=f.get("length"),r=Number(e);Number.isInteger(r)&&r<s.v&&R(s,r)}R(t,v),Y(y)}return!0},get(i,e,t){var b;if(e===N)return a;var s=f.get(e),r=e in i;if(s===void 0&&(!r||(b=E(i,e))!=null&&b.writable)&&(s=w(_(r?i[e]:v,g)),f.set(e,s)),s!==void 0){var n=I(s);return n===v?void 0:n}return Reflect.get(i,e,t)},getOwnPropertyDescriptor(i,e){var t=Reflect.getOwnPropertyDescriptor(i,e);if(t&&"value"in t){var s=f.get(e);s&&(t.value=I(s))}else if(t===void 0){var r=f.get(e),n=r==null?void 0:r.v;if(r!==void 0&&n!==v)return{enumerable:!0,configurable:!0,value:n,writable:!0}}return t},has(i,e){var n;if(e===N)return!0;var t=f.get(e),s=t!==void 0&&t.v!==v||Reflect.has(i,e);if(t!==void 0||j!==null&&(!s||(n=E(i,e))!=null&&n.writable)){t===void 0&&(t=w(s?_(i[e],g):v),f.set(e,t));var r=I(t);if(r===v)return!1}return s},set(i,e,t,s){var S;var r=f.get(e),n=e in i;if(u&&e==="length")for(var b=t;b<r.v;b+=1){var T=f.get(b+"");T!==void 0?R(T,v):b in i&&(T=w(v),f.set(b+"",T))}r===void 0?(!n||(S=E(i,e))!=null&&S.writable)&&(r=w(void 0),R(r,_(t,g)),f.set(e,r)):(n=r.v!==v,R(r,_(t,g)));var h=Reflect.getOwnPropertyDescriptor(i,e);if(h!=null&&h.set&&h.set.call(s,t),!n){if(u&&typeof e=="string"){var P=f.get("length"),A=Number(e);Number.isInteger(A)&&A>=P.v&&R(P,A+1)}Y(y)}return!0},ownKeys(i){I(y);var e=Reflect.ownKeys(i).filter(r=>{var n=f.get(r);return n===void 0||n.v!==v});for(var[t,s]of f)s.v!==v&&!(t in i)&&e.push(t);return e},setPrototypeOf(){M()}})}function Y(a,c=1){R(a,a.v+c)}function ee(a,c,[d,l]=[0,0]){O&&d===0&&Z();var f=a,u=null,y=null,g=v,i=d>0?B:0,e=!1;const t=(r,n=!0)=>{e=!0,s(n,r)},s=(r,n)=>{if(g===(g=r))return;let b=!1;if(O&&l!==-1){if(d===0){const h=f.data;h===G?l=0:h===Q?l=1/0:(l=parseInt(h.substring(1)),l!==l&&(l=g?1/0:-1))}const T=l>d;!!g===T&&(f=V(),W(f),D(!1),b=!0,l=-1)}g?(u?k(u):n&&(u=m(()=>n(f))),y&&o(y,()=>{y=null})):(y?k(y):n&&(y=m(()=>n(f,[d+1,l]))),u&&o(u,()=>{u=null})),b&&D(!0)};U(()=>{e=!1,c(t),e||s(null,null)},i),O&&(f=X)}function F(a,c){return a===c||(a==null?void 0:a[N])===c}function te(a={},c,d,l){return $(()=>{var f,u;return z(()=>{f=u,u=[],J(()=>{a!==d(...u)&&(c(a,...u),f&&F(d(...f),a)&&c(null,...f))})}),()=>{x(()=>{u&&F(d(...u),a)&&c(null,...u)})}}),a}export{te as b,ee as i,_ as p};
