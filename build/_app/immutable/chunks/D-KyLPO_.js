import{x as T,m as O,i as S,j as k,y as v,k as l,l as A,z as I,e as h,A as M,B as Y,C,D as H,F as j,G as B,g as V,a as $,p as b,I as q,h as w,J as z,o as F,K as G,L as J,M as K,N as P,S as W}from"./CfSNqnEh.js";import{d as Q,r as L,h as c,i as U,e as X}from"./k3PStlUg.js";import{r as Z}from"./CSexOY7A.js";function tr(r,s){var t=s==null?"":typeof s=="object"?s+"":s;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t+"")}function x(r,s){return m(r,s)}function ar(r,s){T(),s.intro=s.intro??!1;const t=s.target,o=w,n=h;try{for(var e=O(t);e&&(e.nodeType!==8||e.data!==S);)e=k(e);if(!e)throw v;l(!0),A(e),I();const u=m(r,{...s,anchor:e});if(h===null||h.nodeType!==8||h.data!==M)throw Y(),v;return l(!1),u}catch(u){if(u===v)return s.recover===!1&&C(),T(),H(t),l(!1),x(r,s);throw u}finally{l(o),A(n),Z()}}const f=new Map;function m(r,{target:s,anchor:t,props:o={},events:n,context:e,intro:u=!0}){T();var y=new Set,g=d=>{for(var a=0;a<d.length;a++){var i=d[a];if(!y.has(i)){y.add(i);var _=U(i);s.addEventListener(i,c,{passive:_});var R=f.get(i);R===void 0?(document.addEventListener(i,c,{passive:_}),f.set(i,1)):f.set(i,R+1)}}};g(j(Q)),L.add(g);var p=void 0,D=B(()=>{var d=t??s.appendChild(V());return $(()=>{if(e){b({});var a=q;a.c=e}n&&(o.$$events=n),w&&X(d,null),p=r(d,o)||{},w&&(z.nodes_end=h),e&&F()}),()=>{var _;for(var a of y){s.removeEventListener(a,c);var i=f.get(a);--i===0?(document.removeEventListener(a,c),f.delete(a)):f.set(a,i)}L.delete(g),d!==t&&((_=d.parentNode)==null||_.removeChild(d))}});return E.set(p,D),p}let E=new WeakMap;function ir(r,s){const t=E.get(r);return t?(E.delete(r),t(s)):Promise.resolve()}function N(r,s){return r===s||(r==null?void 0:r[W])===s}function nr(r={},s,t,o){return G(()=>{var n,e;return J(()=>{n=e,e=[],P(()=>{r!==t(...e)&&(s(r,...e),n&&N(t(...n),r)&&s(null,...n))})}),()=>{K(()=>{e&&N(t(...e),r)&&s(null,...e)})}}),r}export{nr as b,ar as h,x as m,tr as s,ir as u};
