import{x as T,o as O,j as S,k,y as v,l,m as A,z as I,g as h,A as M,B as Y,C,D as H,F as b,G as j,i as q,a as B,p as V,I as $,h as w,J as z,q as F,K as G,L as J,M as K,N as P,S as W}from"./BydpiCg8.js";import{b as Q,r as L,h as c,i as U,d as X}from"./Dt90oPg1.js";import{r as Z}from"./Bn7yGRp9.js";function er(r,s){var e=s==null?"":typeof s=="object"?s+"":s;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e+"")}function x(r,s){return m(r,s)}function ar(r,s){T(),s.intro=s.intro??!1;const e=s.target,o=w,n=h;try{for(var t=O(e);t&&(t.nodeType!==8||t.data!==S);)t=k(t);if(!t)throw v;l(!0),A(t),I();const u=m(r,{...s,anchor:t});if(h===null||h.nodeType!==8||h.data!==M)throw Y(),v;return l(!1),u}catch(u){if(u===v)return s.recover===!1&&C(),T(),H(e),l(!1),x(r,s);throw u}finally{l(o),A(n),Z()}}const f=new Map;function m(r,{target:s,anchor:e,props:o={},events:n,context:t,intro:u=!0}){T();var y=new Set,g=d=>{for(var a=0;a<d.length;a++){var i=d[a];if(!y.has(i)){y.add(i);var _=U(i);s.addEventListener(i,c,{passive:_});var R=f.get(i);R===void 0?(document.addEventListener(i,c,{passive:_}),f.set(i,1)):f.set(i,R+1)}}};g(b(Q)),L.add(g);var p=void 0,D=j(()=>{var d=e??s.appendChild(q());return B(()=>{if(t){V({});var a=$;a.c=t}n&&(o.$$events=n),w&&X(d,null),p=r(d,o)||{},w&&(z.nodes_end=h),t&&F()}),()=>{var _;for(var a of y){s.removeEventListener(a,c);var i=f.get(a);--i===0?(document.removeEventListener(a,c),f.delete(a)):f.set(a,i)}L.delete(g),d!==e&&((_=d.parentNode)==null||_.removeChild(d))}});return E.set(p,D),p}let E=new WeakMap;function ir(r,s){const e=E.get(r);return e?(E.delete(r),e(s)):Promise.resolve()}function N(r,s){return r===s||(r==null?void 0:r[W])===s}function nr(r={},s,e,o){return G(()=>{var n,t;return J(()=>{n=t,t=[],P(()=>{r!==e(...t)&&(s(r,...t),n&&N(e(...n),r)&&s(null,...n))})}),()=>{K(()=>{t&&N(e(...t),r)&&s(null,...t)})}}),r}export{nr as b,ar as h,x as m,er as s,ir as u};
